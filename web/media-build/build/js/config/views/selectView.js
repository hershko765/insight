define(["app"],function(e){var t={};t.OptionView=Marionette.ItemView.extend({tagName:"option",template:_.template("<%=title%>"),attributes:function(){var e=this,t={value:this.model.get(e.options.IDField||"id")||null};return parseInt(this.options.selected)==this.model.get(e.options.IDField||"id")&&(t.selected="selected"),t}}),t.Wrapper=Marionette.CollectionView.extend({tagName:"optgroup",attributes:{label:"Select"},itemView:t.OptionView}),e.reqres.setHandler("select:view",function(e,n){var r={title:"- None -"};return r[n.IDField||"id"]="null",e.unshift(r),new t.Wrapper({collection:e,itemViewOptions:n||{}})})});